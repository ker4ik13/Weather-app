{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ker4ik13/Desktop/web/pet projects/weather-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ker4ik13/Desktop/web/pet projects/weather-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/ker4ik13/Desktop/web/pet projects/weather-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ker4ik13/Desktop/web/pet projects/weather-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/ker4ik13/Desktop/web/pet projects/weather-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ker4ik13/Desktop/web/pet projects/weather-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import Header from'./components/Header';import Main from'./components/Main';import Footer from'./components/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_KEY='109440449518b43abeb4e646cc838d3f';var API_KEY2='c61bf831517deb8cf9ef21519e1294cd';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={temp:undefined,weatherDesc:undefined,feelsLike:undefined,humidity:undefined,pressure:undefined,tempMax:undefined,tempMin:undefined,city:undefined,sunrise:undefined,sunset:undefined,visibility:undefined,windSpeed:undefined,error:undefined};_this.gettingWeather=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var api_url_today,data,sunset,dateSunset,sunsetDate,sunrise,dateSunrise,sunriseDate;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/weather?q=Moscow&appid=\".concat(API_KEY,\"&units=metric&lang=ru\"));case 2:api_url_today=_context.sent;_context.next=5;return api_url_today.json();case 5:data=_context.sent;// Запрос на 7 дней (не работает)\n// const api_url_week = await fetch (`api.openweathermap.org/data/2.5/forecast/daily?q=Moscow&cnt=7&appid=${API_KEY2}&units=metric&lang=ru`)\n// const weekData = await api_url_week.json();\n// console.log(weekData);\nsunset=data.sys.sunset;dateSunset=new Date();dateSunset.setTime(sunset);sunsetDate=dateSunset.getHours()+':'+dateSunset.getMinutes();sunrise=data.sys.sunrise;dateSunrise=new Date();dateSunrise.setTime(sunrise);sunriseDate=dateSunrise.getHours()+':'+dateSunrise.getMinutes();_this.setState({temp:Math.floor(data.main.temp),weatherDesc:data.weather[0].description,city:data.name,tempMax:Math.floor(data.main.temp_max),tempMin:Math.floor(data.main.temp_min),feelsLike:Math.floor(data.main.feels_like),humidity:data.main.humidity,pressure:data.main.pressure,sunrise:sunriseDate,sunset:sunsetDate,visibility:data.visibility,windSpeed:Math.floor(data.wind.speed),error:undefined});case 15:case\"end\":return _context.stop();}},_callee);}));return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{weather:this.gettingWeather,city:this.state.city,temp:this.state.temp,weatherDesc:this.state.weatherDesc}),/*#__PURE__*/_jsx(Main,{weather:this.gettingWeather,tempMax:this.state.tempMax,tempMin:this.state.tempMin,weatherDesc:this.state.weatherDesc}),/*#__PURE__*/_jsx(Footer,{weather:this.gettingWeather,feelsLike:this.state.feelsLike,humidity:this.state.humidity,pressure:this.state.pressure,sunrise:this.state.sunrise,sunset:this.state.sunset,visibility:this.state.visibility,windSpeed:this.state.windSpeed})]});}}]);return App;}(React.Component);;export default App;","map":{"version":3,"names":["React","Header","Main","Footer","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","API_KEY","API_KEY2","App","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","temp","undefined","weatherDesc","feelsLike","humidity","pressure","tempMax","tempMin","city","sunrise","sunset","visibility","windSpeed","error","gettingWeather","_asyncToGenerator","_regeneratorRuntime","mark","_callee","api_url_today","data","dateSunset","sunsetDate","dateSunrise","sunriseDate","wrap","_callee$","_context","prev","next","fetch","sent","json","sys","Date","setTime","getHours","getMinutes","setState","Math","floor","main","weather","description","name","temp_max","temp_min","feels_like","wind","speed","stop","_createClass","key","value","render","children","Component"],"sources":["/Users/ker4ik13/Desktop/web/pet projects/weather-app/src/App.js"],"sourcesContent":["import React from 'react';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport Footer from './components/Footer';\n\nconst API_KEY = '109440449518b43abeb4e646cc838d3f';\nconst API_KEY2 = 'c61bf831517deb8cf9ef21519e1294cd'\n\nclass App extends React.Component{\n  state = {\n    temp: undefined,\n    weatherDesc: undefined,\n    feelsLike: undefined,\n    humidity: undefined,\n    pressure: undefined,\n    tempMax: undefined,\n    tempMin: undefined,\n    city: undefined,\n    sunrise: undefined,\n    sunset: undefined,\n    visibility: undefined,\n    windSpeed: undefined,\n    error: undefined,\n    }\n\n  gettingWeather = async () => {\n    const api_url_today = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Moscow&appid=${API_KEY}&units=metric&lang=ru`);\n    const data = await api_url_today.json();\n\n    // Запрос на 7 дней (не работает)\n\n    // const api_url_week = await fetch (`api.openweathermap.org/data/2.5/forecast/daily?q=Moscow&cnt=7&appid=${API_KEY2}&units=metric&lang=ru`)\n    // const weekData = await api_url_week.json();\n    // console.log(weekData);\n\n    let sunset = data.sys.sunset;\n    let dateSunset = new Date();\n    dateSunset.setTime(sunset);\n    let sunsetDate = dateSunset.getHours() + ':' + dateSunset.getMinutes();\n\n    let sunrise = data.sys.sunrise;\n    let dateSunrise = new Date();\n    dateSunrise.setTime(sunrise);\n    let sunriseDate = dateSunrise.getHours() + ':' + dateSunrise.getMinutes();\n\n    this.setState({\n      temp: Math.floor(data.main.temp),\n      weatherDesc: data.weather[0].description,\n      city: data.name,\n      tempMax: Math.floor(data.main.temp_max),\n      tempMin: Math.floor(data.main.temp_min),\n      feelsLike: Math.floor(data.main.feels_like),\n      humidity: data.main.humidity,\n      pressure: data.main.pressure,\n      sunrise: sunriseDate,\n      sunset: sunsetDate,\n      visibility: data.visibility,\n      windSpeed: Math.floor(data.wind.speed),\n      error: undefined,\n    })\n  }\n\n\n  render(){\n    return(\n      <><Header weather = {this.gettingWeather}\n      city = {this.state.city}\n      temp = {this.state.temp}\n      weatherDesc = {this.state.weatherDesc}/>\n\n      <Main weather = {this.gettingWeather}\n      tempMax = {this.state.tempMax}\n      tempMin = {this.state.tempMin}\n      weatherDesc = {this.state.weatherDesc}/>\n      \n      <Footer weather = {this.gettingWeather}\n      feelsLike = {this.state.feelsLike}\n      humidity = {this.state.humidity}\n      pressure = {this.state.pressure}\n      sunrise = {this.state.sunrise}\n      sunset = {this.state.sunset}\n      visibility = {this.state.visibility}\n      windSpeed = {this.state.windSpeed}/></>\n    )\n  }\n};\n\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}